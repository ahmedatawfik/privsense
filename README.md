
# Pseudonymization Utility

This utility pseudonymizes text data using `spaCy` and `Faker`. The script identifies and replaces personal names and organization names with pseudonyms, ensuring that sensitive information is anonymized. It is designed to work with text files and can dynamically load custom company names from a specified file.

## Features

- **Named Entity Recognition**: Uses `spaCy`'s transformer-based model (`en_core_web_trf`) to accurately identify named entities in the text.
- **Custom Entity Patterns**: Allows adding custom company names from a file (`companies.txt`), handling both upper and lower case variations.
- **Pseudonymization**: Replaces identified names and organizations with realistic pseudonyms generated by `Faker`.
- **Before and After Comparison**: Prints the original and pseudonymized text to the console for easy comparison.
- **File Handling**: Reads input text from `input.txt` and writes the pseudonymized text to `output.txt`.

## Requirements

- Python 3.7+
- `spaCy`
- `spaCy-transformers`
- `Faker`
- GPU with CUDA Toolkit 12 (Can still work with both CPU and GPU)

## Installation

1. Install the required libraries:
    ```sh
    conda create -n venv
    conda activate venv
    conda install -c conda-forge spacy
    conda install -c conda-forge cupy
    python -m spacy download en_core_web_trf
    ```

## Usage

1. Prepare your input files:
    - `input.txt`: The text file containing the data you want to pseudonymize.
    - `companies.txt`: A file with each company name on a new line.

2. Run the script:
    ```sh
    python pseudoanon.py
    ```

3. Check the output:
    - The original text ("Before") and the pseudonymized text ("After") will be printed to the console.
    - The pseudonymized text will be saved to `output.txt`.

## Example

**input.txt**:
```
John Doe is a software engineer at Acme Corp. Jane Doe, his colleague, works in the marketing department.
Acme Corp recently announced a merger with Tech Solutions, another leading company in the industry.
```

**companies.txt**:
```
Acme Corp
Tech Solutions
```

**Console Output**:
```
Before:
John Doe is a software engineer at Acme Corp. Jane Doe, his colleague, works in the marketing department.
Acme Corp recently announced a merger with Tech Solutions, another leading company in the industry.

After:
Richard Roe is a software engineer at Dynamic Solutions. Elizabeth Smith, his colleague, works in the marketing department.
Dynamic Solutions recently announced a merger with Prime Enterprises, another leading company in the industry.
```

**output.txt**:
```
Richard Roe is a software engineer at Dynamic Solutions. Elizabeth Smith, his colleague, works in the marketing department.
Dynamic Solutions recently announced a merger with Prime Enterprises, another leading company in the industry.
```

## Customization

- **Adding More Companies**: Simply add more company names to the `companies.txt` file, one per line.
- **Handling Case Sensitivity**: The script automatically handles both upper and lower case variations of the company names.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please open an issue or submit a pull request for any improvements or bug fixes.
